<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>BTC/USDT Prix Live Test</title>
</head>
<body>
  <h1 id="price">Chargement…</h1>
  <script>
    const priceEl=document.getElementById('price');
    const ws=new WebSocket('wss://ws.bitget.com/mix/v1/stream');
    ws.onopen=()=>{ws.send(JSON.stringify({op:"subscribe",args:[{instType:"mc",channel:"ticker",instId:"BTCUSDT_UMCBL"}]}));};
    ws.onmessage=e=>{
      let d=JSON.parse(e.data);
      if(d.arg&&d.data){let p=parseFloat(d.data[0].last);priceEl.textContent=p?p+' $':'—';}
    };
    ws.onerror=()=>{priceEl.textContent="Erreur…";}
    ws.onclose=()=>{priceEl.textContent="Déconnecté";}
  </script>
</body>
</html>
